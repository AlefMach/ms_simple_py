# Migrations

Migrations are performed (and can be generated) with [Alembic](https://alembic.sqlalchemy.org/en/latest/).

## New migration

If you have created or modified one or more entities, you can create a new migration as follows:

```console
COMMENT='create_partner_model' make revision
```

This shortcut will use alembic's `autogenerate` feature to create a new migration based on the difference between the state of your database and the current drawing of entities in the code. Always review the migration and modify as needed, as the migration generated by alembic may not translate exactly what the application needs.

Migrations are placed in the `src/infra/adapters/database/migration/versions` folder.

## Running migrations

To run the migrations:

```console
$ make migrate
```
